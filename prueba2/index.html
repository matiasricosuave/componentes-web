<!DOCTYPE html>
<html>
<head>
  <title>Mi p치gina web</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <!-- Utiliza la etiqueta personalizada para incluir tu componente -->
  <my-component></my-component>

  <!-- Agrega el modal para el pop-up -->
<div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title product-modal-title" id="productModalLabel"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <img id="modalImage" class="product-modal-image">
        <h6 id="modalTitle" class="product-modal-text"></h6>
        <p id="modalDescription" class="product-modal-text"></p>
        <p id="modalPrice" class="product-modal-text modal-precio"></p>
      </div>
    </div>
  </div>
</div>

  <!-- Agrega el script necesario para registrar la etiqueta personalizada -->
  <script>
    // Registra la etiqueta personalizada
    customElements.define('my-component', class extends HTMLElement {
      constructor() {
        super();

        // Define la lista de productos
        const products = [
          {
            image: '../img/cocacola.png',
            title: 'Coca Cola',
            description: 'Descripci칩n',
            price: 'Bs.10.00'
          },
          {
            image: '../img/fanta.png',
            title: 'Fanta',
            description: 'Descripci칩n',
            price: 'Bs.10.00'
          },
          {
            image: '../img/sprite.png',
            title: 'Sprite',
            description: 'Descripci칩n',
            price: 'Bs.10.00'
          }
        ];

        // Genera el HTML de los productos
        const productsHTML = products.map(product => `
          <div class="col-md-4">
            <div class="product">
              <img src="${product.image}" alt="Imagen del producto" class="product-image img-fluid">
              <div class="product-background" data-bs-toggle="modal" data-bs-target="#productModal"></div>
              <div class="fondo"></div>
              <div class="product-details">
                <h6 class="text-white product-title">${product.title}</h6>
                <p class="text-white product-description">${product.description}</p>
                <p class="text-white product-price">${product.price}</p>
              </div>
            </div>
          </div>
        `).join('');

        // Define el contenido del componente
        this.innerHTML = `
          <div class="container">
            <div class="row">
              ${productsHTML}
            </div>
          </div>
        `;

        // Agrega el evento de clic al hacer clic en el fondo transparente del producto
        const productBackgrounds = this.querySelectorAll('.product-background');
          productBackgrounds.forEach(background => {
          background.addEventListener('click', () => {
          const product = background.closest('.product');
          const imageSrc = product.querySelector('.product-image').src;
          const title = product.querySelector('.text-white').textContent;
          const description = product.querySelector('.text-white:nth-child(2)').textContent;
          const price = product.querySelector('.text-white:nth-child(3)').textContent;

          document.getElementById('modalImage').src = imageSrc;
          document.getElementById('modalTitle').textContent = title;
          document.getElementById('modalDescription').textContent = description;
          document.getElementById('modalPrice').textContent = price;
          });
        });
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>
</html>